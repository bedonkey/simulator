ClearExchange() # #
ResetAccounts() # #
SetSession(HOSE, Open1) # Sàn HSX chuyển về phiên Open1 # Khi Sàn chuyển phiên thì phiên của [[Gateway]] và [[ORS]] là Open1 #
result = GetPP0(0001000001) # Tài khoản 0001000001 chỉ có 10,000,000 tiền mặt # [[Sức mua]] của tài khoản 0001000001 là 10,000,000 #
ord1= Place(0001000001, SSI, Buy, LO, 22, 200) # Tài khoản 0001000001 đặt lệnh mua LO 200 cổ phiếu SSI giá 22,000 ở phiên liên tục #
result = GetTrade(0001000002, SSI) # Tài khoản 0001000002 có 1,000 cổ phiếu SSI được giao dịch #
ord2= Place(0001000001, SSI, Sell, LO, 22, 300) # Tài khoản 0001000002 đặt lệnh bán 300 SSI giá 22,000 trong phiên liên tục #
status=GetOrderStatus(ord2.msg) # Lệnh bán của tài khoản 0001000002 khớp lệnh một phần 200 SSI với giá 22,000 # Trạng thái lệnh SSI là Partial (Khớp một phần) # Khi đó, tài khoản bán 0001000002 có tiền bán chứng khoán chờ về, sau khi đã trừ đi thuế và phí giao dịch, lệnh bán khớp 1 phần và còn lại 100 SSI chờ khớp. Tài khoản mua 0001000001 bị cắt tiền kỹ quỹ và có 200 SSI mua khớp #
result1 = Cancel(result.msg) # Hủy lệnh bán chưa khớp còn lại là 100 SSI giá 22,000 của tài khoản 0001000002, trạng thái lệnh chuyển thành Cancelled #